<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="9c49e7e4-821a-4327-aa13-6c49a7168272" activeEnvironment="DEV" name="Enrollment" resourceRoot="" soapui-version="6.0.0" lastOpened="2016-04-26T06:02:22.428-04:00" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.ProTestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Test"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="Suite_Enrollment"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value="C:\Program Files\SmartBear\SoapUI-Pro-5.1.2\bin"/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="true"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="true"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=".xml"/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value="\\10.78.7.60\Selenium_Scripts\SoapUIScripts\CVueEnrollmentAPI\TEST\testoutput"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value="JUnit-Style HTML Report"/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="0240639d-0f37-4a35-9aa4-65204e160754" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://dev.webapi.kaplan.edu" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://KUCY2QTP01:8089/</con:endpoint><con:endpoint>https://dev.webapi.kaplan.edu</con:endpoint></con:endpoints><con:resource name="Enrollment" path="/api/v1/enrollment" id="cb8e53c9-4265-4f2f-b555-adca72d88c91"><con:settings/><con:parameters><con:parameter><con:name>ProgramVersionId</con:name><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>StartDateID</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:method name="Enrollment" id="cde9a3d2-c007-4756-881c-e7252c5af30c" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:enr="http://dev.webapi.kaplan.edu/api/v1/enrollment">enr:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>417</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400 500</con:status><con:params/><con:element xmlns:enr="http://dev.webapi.kaplan.edu/api/v1/enrollment">enr:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>403</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>417</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="EnrollStudent" id="f1446ce3-7877-4172-85f8-9b7dfe94d434" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Token" value="BzEb3J5SkGy8G3ropggavs9COaj2" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://dev.webapi.kaplan.edu</con:endpoint><con:request>{
   "MessageState": "",
   "StudentId": "99524",
   "CampusId": 43,
   "SchoolStatusId": 5,
   "ProgramVersionId": 450667,
   "BillingMethodId": 5,
   "GradeLevelId": 1,
   "ShiftId": 15,
   "ApplicationReceivedDate": "2015-03-12T00:00:00",
   "EnrollDate": "2015-03-12T00:00:00",
   "ExpectedStartDate": "2015-03-25T00:00:00",
   "MidPointDate": "2015-12-30T00:00:00",
   "GraduationDate": "2017-03-25T00:00:00",
   "IsApplicant": false,
   "StartDateId": 628517,
   "StudentNumber": "",
   "ProgramVersionDescription": "",
   "Comment": "",
   "StatusChangeComment": "",
   "IPEDSStateOfResidence": "",
   "StartDate": "0001-01-01T00:00:00",
   "UpdateOriginalGradDate": false
}</con:request><con:originalUri>http://dev.webapi.kaplan.edu/api/v1/enrollment</con:originalUri><con:credentials><con:selectedAuthProfile>Test</con:selectedAuthProfile><con:preemptive>false</con:preemptive><con:authType>OAuth 2.0</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>StartDateID</con:entry><con:entry>ProgramVersionId</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="authorize" path="/api/v1/auth/authorize" id="bc6d7c0f-3778-4719-89b2-76bf21f59a36"><con:settings/><con:parameters/><con:method name="Auth" id="87887cef-7264-41fe-9b99-738ec2f84352" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:aut="http://dev.webapi.kaplan.edu/api/v1/auth/authorize">aut:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>500 401</con:status><con:params/><con:element xmlns:aut="http://dev.webapi.kaplan.edu/api/v1/auth/authorize">aut:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="GetToken" id="6c7934d6-0876-4d8b-b94b-d6b23e4ffb58" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://dev.webapi.kaplan.edu</con:endpoint><con:request>{
   "ClientID": "SRMIntegrationSalesforce_Dev2",
   "ClientSecret": "Rg6UTOxz4bIn0gq1cljEFS7M7jOkvu5w"
}</con:request><con:originalUri>http://dev.webapi.kaplan.edu/api/v1/auth/authorize</con:originalUri><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="085e6b76-f7ff-4bd3-b3cf-732b8fe8f3ca" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://test.webapi.kaplan.edu" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://test.webapi.kaplan.edu</con:endpoint></con:endpoints><con:resource name="Authorize" path="/api/v1/auth/authorize" id="3b1bca23-3ab4-48cd-8382-b91836f7dadb"><con:settings/><con:parameters/><con:method name="Authorize" id="67932951-6556-4d01-a013-6b86f307b85c" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:aut="https://test.webapi.kaplan.edu/api/v1/auth/authorize">aut:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="GetToken" id="360267ab-90f7-4fe3-b695-dc576993adbb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:request>{
   "ClientID": "SRMIntegrationSalesforce_Stage",
   "ClientSecret": "2VFEYQ9VY3lqZEHggx5yU1urkkplLPvT"
}</con:request><con:originalUri>https://test.webapi.kaplan.edu/api/v1/auth/authorize</con:originalUri><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="enrollment" path="/api/v1/enrollment" id="471f39a7-b141-407d-960c-30d6268f3420"><con:settings/><con:parameters/><con:method name="enroll" id="fb2a16eb-cabf-47fa-bc4c-b7000ebfa15e" method="POST"><con:settings/><con:parameters/><con:request name="Enrollstudent" id="f0b61b9b-2b13-4bd2-8769-4810e5673323" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Token" value="TOTsd8rtBrYIlEJKxXjz2Cbn0okP" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:request>{
	"MessageState" : "",
	"StudentId" : 50159,
	"CampusId" : 43,
	"SchoolStatusId" : 5,
	"ProgramVersionId" : 449763,
	"BillingMethodId" : 5,
	"GradeLevelId" : 1,
	"ShiftId" : 15,
	"ApplicationReceivedDate" : "2015-03-12T00:00:00",
	"EnrollDate" : "2015-03-12T00:00:00",
	"ExpectedStartDate" : "2015-03-25T00:00:00",
	"MidPointDate" : "2015-12-30T00:00:00",
	"GraduationDate" : "2017-03-25T00:00:00",
	"IsApplicant" : false,
	"StartDateId" : 644906,
	"StudentNumber" : "",
	"ProgramVersionDescription" : "",
	"Comment" : "",
	"StatusChangeComment" : "",
	"IPEDSStateOfResidence" : "",
	"StartDate" : "0001-01-01T00:00:00",
	"UpdateOriginalGradDate" : false
}</con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="34ecca3a-b098-4c02-8367-496ea0aa0138" name="Suite_Enrollment"><con:settings><con:setting id="IncludeOverview">true</con:setting><con:setting id="IncludeResults">true</con:setting><con:setting id="FlowLayout">false</con:setting><con:setting id="ErrorDetails">true</con:setting><con:setting id="IncludeCoverage">true</con:setting><con:setting id="GeneratableJUnitReport@Style">Single Page (Print)</con:setting><con:setting id="GeneratableJUnitReport@Folder">c:\</con:setting></con:settings><con:runType>SEQUENTIAL</con:runType><con:testCase id="c2bc574a-3763-4333-a31b-4733efddca88" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC_SelectTestCasestoRun" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true"><con:settings/><con:testStep type="datasource" name="DS_SkipTC" id="5fa59d80-4db7-4b31-b34b-9815167887b9"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file/><worksheet/><cell>A2</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>SkipTestCases</con:property><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="groovy" name="TCtoRun" id="21f9423e-ac49-4014-ab60-a465ce594f46"><con:settings/><con:config><script>def testSuite = context.testCase.testSuite;
def totalTestCases = testSuite.getTestCases().size();
for(n in (0..totalTestCases-1))
{  testSuite.getTestCaseAt(n).setDisabled(false)
   }
 for(n in (0..totalTestCases-1))
{  log.info(testSuite.getTestCaseAt(n).name)
	def skipTestCases = context.expand( '${DS_SkipTC#SkipTestCases}' )
	if(testSuite.getTestCaseAt(n).name.equals(skipTestCases))
   	testSuite.getTestCaseAt(n).setDisabled(true)
     }</script></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop" id="d333c36f-7e7b-4120-8867-d959c5c98f99"><con:settings/><con:config><dataSourceStep>DS_SkipTC</dataSourceStep><targetStep>TCtoRun</targetStep></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="1fd1d8ff-5869-4c9a-9de0-23f630539f74" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC_InvalidToken" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="restrequest" name="InvalidToken_ClientID" id="91f958ab-3ea0-4e7a-a3c1-20912b9dafd9"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" methodName="Auth" resourcePath="/api/v1/auth/authorize" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="InvalidToken_ClientID" id="2dff3783-4e6d-481f-a1f6-97df7336804f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://dev.webapi.kaplan.edu</con:endpoint><con:request>{
   "ClientID": "SRMIntegrationSalesforce_Dev2",
   "ClientSecret": "Rg6UTOxz4bIn0gq1cljEFS7M7jOkvu5"
}</con:request><con:originalUri>https://dev.webapi.kaplan.edu/api/v1/auth/authorize</con:originalUri><con:assertion type="JsonPath Match" id="eb035127-fb5b-45f7-b783-0913921b8371" name="Match content of [Message]"><con:configuration><path>$.Message</path><content>Error Getting Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="InvalidToken_ClientSecret" id="7e374416-5de0-4131-859e-27949aefb1e1"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" methodName="Auth" resourcePath="/api/v1/auth/authorize" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="InvalidToken_ClientSecret" id="eb8b2041-78fc-449a-a385-547dcffae837" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://dev.webapi.kaplan.edu</con:endpoint><con:request>{
   "ClientID": "SRMIntegrationSalesforce_Dev",
   "ClientSecret": "Rg6UTOxz4bIn0gq1cljEFS7M7jOkvu5w"
}</con:request><con:originalUri>https://dev.webapi.kaplan.edu/api/v1/auth/authorize</con:originalUri><con:assertion type="JsonPath Match" id="2c3637bb-83c2-45e5-a568-0caa77eb14ce" name="Match content of [Message]"><con:configuration><path>$.Message</path><content>Error Getting Access Token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>2aff6feb-bb62-4d07-ba53-09cf86707294</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:testCase id="90d857b9-6cef-4dba-aa5f-8a1827dfee99" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC_DuplicateEnrollment" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Auth - GetToken" id="dae2316d-1f90-4ac1-a7c7-d2a1d1368b99"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" resourcePath="/api/v1/auth/authorize" methodName="Auth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Auth - GetToken" id="6c7934d6-0876-4d8b-b94b-d6b23e4ffb58" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://dev.webapi.kaplan.edu</con:endpoint><con:request>{
   "ClientID": "${#Project#ClientId}",
   "ClientSecret": "${#Project#ClientSecret}"
}</con:request><con:originalUri>http://dev.webapi.kaplan.edu/api/v1/auth/authorize</con:originalUri><con:assertion type="JsonPath Existence Match" id="5445bbce-ab05-4f79-accd-9b27778abc0c" name="Check for existence of [access_token]"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="fac7e441-98c9-44b5-b18c-c203069661ee" name="Match content of [token_type]"><con:configuration><path>$.token_type</path><content>Bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="14cc5289-c483-49ca-ba45-4e38216dc8d5" name="Check for existence of [client_id]"><con:configuration><path>$.client_id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer 1" id="35b2a927-392f-480f-9263-4c08e8f5e17a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>access_token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Auth - GetToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>vartoken</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="Properties" id="ccc0c1c8-ac03-4323-9a63-e42cf907a6fe"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>vartoken</con:name><con:value>xxmqsUTL1wJh0msvBQXEHCC0sW8v</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="EnrollStudent" id="6090b742-aa05-4f96-b0eb-76b9b814181c"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" methodName="Enrollment" resourcePath="/api/v1/enrollment" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="EnrollStudent" id="aa062b5c-be38-456e-bea9-968c130ba68f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Token" value="${vartoken}"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://dev.webapi.kaplan.edu</con:endpoint><con:request>{
	"MessageState" : "",
	"StudentId" : ${#Project#DuplicateStudentID},
	"CampusId" : 43,
	"SchoolStatusId" : 5,
	"ProgramVersionId" : ${#Project#AdProgramVerionID},
	"BillingMethodId" : 5,
	"GradeLevelId" : 1,
	"ShiftId" : 15,
	"ApplicationReceivedDate" : "2015-03-12T00:00:00",
	"EnrollDate" : "2015-03-12T00:00:00",
	"ExpectedStartDate" : "2015-03-25T00:00:00",
	"MidPointDate" : "2015-12-30T00:00:00",
	"GraduationDate" : "2017-03-25T00:00:00",
	"IsApplicant" : false,
	"StartDateId" : ${#Project#AdstartDateId},
	"StudentNumber" : "",
	"ProgramVersionDescription" : "",
	"Comment" : "",
	"StatusChangeComment" : "",
	"IPEDSStateOfResidence" : "",
	"StartDate" : "0001-01-01T00:00:00",
	"TermId" : ${#Project#TermId} ,
	"UpdateOriginalGradDate" : false
}</con:request><con:originalUri>http://dev.webapi.kaplan.edu/api/v1/enrollment</con:originalUri><con:assertion type="GroovyScriptAssertion" id="7767e58a-cb16-45af-8ccf-7103681172c6" name="Script Assertion"><con:configuration><scriptText>def val = messageExchange.getResponseHeaders()["#status#"][0]
log.info(val)
assert val=="HTTP/1.1 200 OK"</scriptText></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="6d8f21eb-6ac3-4ce5-bc8e-5491a89f03c9" name="Match content of [messageResultField]"><con:configuration><path>$.AddNewEnrollmentResponse.enrollmentsField[0].messageResultField</path><content>AddNewEnrollment.Execution Error: The Student specified in the message is already enrolled for this program version and campus.
Parameter name: StudentId</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="3b64df12-2383-4a69-9445-7636b89a2519" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC_ValidToken" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="restrequest" name="Auth - GetToken" id="5f19053c-4126-44a0-b8f9-569abf68c3d6"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" methodName="Auth" resourcePath="/api/v1/auth/authorize" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Auth - GetToken" id="b6013f34-15e9-4f7e-84ff-e829b755d82c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://dev.webapi.kaplan.edu</con:endpoint><con:request>{
   "ClientID": "${#Project#ClientId}",
   "ClientSecret": "${#Project#ClientSecret}"
}</con:request><con:originalUri>https://dev.webapi.kaplan.edu/api/v1/auth/authorize</con:originalUri><con:assertion type="JsonPath Match" id="f0a771f6-c879-4303-9b4f-c267353b8db0" name="Match content of [token_type]"><con:configuration><path>$.token_type</path><content>Bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="feb546b7-a0e4-445c-87be-a8c8336cf705" name="Check for existence of [client_id]"><con:configuration><path>$.client_id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="8da648a7-2a04-492d-9912-dd48864f81b3" name="Check for existence of [access_token]"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="eebe6389-a97e-45a6-b72a-1c3581b987f1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC_TokenExpiration" searchProperties="true" disabled="true"><con:settings/><con:testStep type="restrequest" name="Auth - GetToken" id="fbcc14ad-c435-4072-b4f7-e7a4fda5a525"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" methodName="Auth" resourcePath="/api/v1/auth/authorize" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Auth - GetToken" id="ecff9e1d-edb3-459f-a4e8-984274834a28" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://dev.webapi.kaplan.edu</con:endpoint><con:request>{
       "ClientID": "SRMIntegrationSalesforce_Dev2",
       "ClientSecret": "Rg6UTOxz4bIn0gq1cljEFS7M7jOkvu5w"
}
</con:request><con:originalUri>https://dev.webapi.kaplan.edu/api/v1/auth/authorize</con:originalUri><con:assertion type="JsonPath Match" id="8b5c3f1b-f51f-4bd9-befb-12f259903c79" name="Match content of [expires_in]"><con:configuration><path>$.expires_in</path><content>1800</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="d4a26df1-14a1-4ec9-a97f-eb1531d18545" name="Check for existence of [access_token]"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="8676346d-715c-4a71-bbfb-2bd6ce0d78e2" name="Check for existence of [client_id]"><con:configuration><path>$.client_id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="38ea8478-5b8a-4eb5-b9be-7316c39c4e89" name="Match content of [token_type]"><con:configuration><path>$.token_type</path><content>Bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer 1" id="c40fa26c-016f-463e-b107-368ea7f1bc4c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>access_token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Auth - GetToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>vartoken</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="Properties" id="af7e1431-f5b9-48f0-937f-d7ff233e6a6e"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>vartoken</con:name><con:value>I9tSEAghqpMOpGYvdvH2A6Hy2K3o</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="delay" name="WaitforTokentoExpire" id="6c895d9a-a66a-4608-a3b8-bd68e1e4ac54"><con:settings/><con:config><delay>360000</delay></con:config></con:testStep><con:testStep type="restrequest" name="EnrollStudent_AfterTokenExpire" id="d864c3cc-894e-49f1-bcb7-14d48fafab85"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" methodName="Enrollment" resourcePath="/api/v1/enrollment" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="EnrollStudent_AfterTokenExpire" id="9ebed865-a18f-49c7-8c36-a58a05f10631" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Token" value="${vartoken}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://dev.webapi.kaplan.edu</con:endpoint><con:request>{
   "MessageState": "",
   "StudentId": 32073835,
   "CampusId": 43,
   "SchoolStatusId": 5,
   "ProgramVersionId": 450667,
   "BillingMethodId": 5,
   "GradeLevelId": 1,
   "ShiftId": 15,
   "ApplicationReceivedDate": "2015-03-12T00:00:00",
   "EnrollDate": "2015-03-12T00:00:00",
   "ExpectedStartDate": "2015-03-25T00:00:00",
   "MidPointDate": "2015-12-30T00:00:00",
   "GraduationDate": "2017-03-25T00:00:00",
   "IsApplicant": false,
   "StartDateId": 628517,
   "StudentNumber": "",
   "ProgramVersionDescription": "",
   "Comment": "",
   "StatusChangeComment": "",
   "IPEDSStateOfResidence": "",
   "StartDate": "0001-01-01T00:00:00",
   "UpdateOriginalGradDate": false
}</con:request><con:originalUri>https://dev.webapi.kaplan.edu/api/v1/enrollment</con:originalUri><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="1dc6a8e3-7ea1-4eb0-a850-627a44fecba4" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC_Enrollment" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="datasource" name="DS_GetStudentId" id="2aff6feb-bb62-4d07-ba53-09cf86707294" disabled="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.WsdlDataSourceTestStep@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>Orion( Stage )</Connection><query>	Select Top (1) S.SyStudentId as S_SyStudentId
	From syStudent S, adEnroll E
	Where S.SyStudentId = E.SyStudentID And IsHispanic Is Not Null And Phone &lt;> '' And amraceid between 2 and 34 And (S.SyStudentId Not In (Select
	    adEnroll.SyStudentID From adEnroll
	  Where adEnroll.adProgramVersionID IN( ${#Project#AdProgramVerionID}))) </query><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:property>S_SyStudentId</con:property><con:startRow/><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="DB_GetStudentID" id="9ef5ac9b-9084-4f2e-8804-525d379f69ab"><con:settings/><con:config><script>import groovy.sql.Sql;
//Establish JDBC Connection to the DB
def conString = context.expand( '${#Project#ConString}' )
def  con = Sql.newInstance(conString, "com.microsoft.sqlserver.jdbc.SQLServerDriver");
def progversionid = context.expand( '${#Project#AdProgramVerionID}' )
log.info(progversionid)
def res = con.rows("Select Top (1) S.SyStudentId as S_SyStudentId From syStudent S, adEnroll E Where S.SyStudentId = E.SyStudentID And IsHispanic Is Not Null AND ISHISPANIC !='' And Phone &lt;> '' And amraceid between 2 and 34 And (S.SyStudentId Not In (Select adEnroll.SyStudentID From adEnroll Where adEnroll.adProgramVersionID IN("+progversionid+"))) ")
//d//ef res = con.rows("select firstname from polaris..mkleads where mkleadid=26883646")
log.info(res[0])
con.close()
testRunner.testCase.setPropertyValue( "S_SyStudentId", res[0][0].toString())
</script></con:config></con:testStep><con:testStep type="restrequest" name="Auth - GetToken" id="9cf47190-c3fd-405e-9cc6-6d233e2c45ce"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" resourcePath="/api/v1/auth/authorize" methodName="Auth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Auth - GetToken" id="6c7934d6-0876-4d8b-b94b-d6b23e4ffb58" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://dev.webapi.kaplan.edu</con:endpoint><con:request>{
   "ClientID": "${#Project#ClientId}",
   "ClientSecret": "${#Project#ClientSecret}"
}</con:request><con:originalUri>http://dev.webapi.kaplan.edu/api/v1/auth/authorize</con:originalUri><con:assertion type="JsonPath Existence Match" id="5445bbce-ab05-4f79-accd-9b27778abc0c" name="Check for existence of [access_token]"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="fac7e441-98c9-44b5-b18c-c203069661ee" name="Match content of [token_type]"><con:configuration><path>$.token_type</path><content>Bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="14cc5289-c483-49ca-ba45-4e38216dc8d5" name="Check for existence of [client_id]"><con:configuration><path>$.client_id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer_Token" id="4d57dd55-7e70-42d7-bcbc-d418005cc76d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>access_token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Auth - GetToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>vartoken</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="Properties" id="51eabddb-2c3c-4d6a-8f6f-16b296375c5d"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>vartoken</con:name><con:value>gW6g7EbC7DCOsw3YRtqfo90EFpWV</con:value></con:property><con:property><con:name>Response_EnrollID</con:name><con:value>2926599</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="EnrollStudent" id="bf8a4aef-7590-4d86-837b-64b8b8035597"><con:settings/><con:config service="http://dev.webapi.kaplan.edu" methodName="Enrollment" resourcePath="/api/v1/enrollment" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="EnrollStudent" id="aa062b5c-be38-456e-bea9-968c130ba68f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Token" value="${vartoken}"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://dev.webapi.kaplan.edu</con:endpoint><con:request>{
	"MessageState" : "",
	"StudentId" : ${#TestCase#S_SyStudentId},
	"CampusId" : 43,
	"SchoolStatusId" : 5,
	"ProgramVersionId" : ${#Project#AdProgramVerionID},
	"BillingMethodId" : 5,
	"GradeLevelId" : 1,
	"ShiftId" : 15,
	"ApplicationReceivedDate" : "2015-03-12T00:00:00",
	"EnrollDate" : "2015-03-12T00:00:00",
	"ExpectedStartDate" : "2015-03-25T00:00:00",
	"MidPointDate" : "2015-12-30T00:00:00",
	"GraduationDate" : "2017-03-25T00:00:00",
	"IsApplicant" : false,
	"StartDateId" : ${#Project#AdstartDateId},
	"StudentNumber" : "",
	"ProgramVersionDescription" : "",
	"Comment" : "",
	"StatusChangeComment" : "",
	"IPEDSStateOfResidence" : "",
	"StartDate" : "0001-01-01T00:00:00",
	"TermId" : ${#Project#TermId} ,
	"UpdateOriginalGradDate" : false
}</con:request><con:originalUri>http://dev.webapi.kaplan.edu/api/v1/enrollment</con:originalUri><con:assertion type="GroovyScriptAssertion" id="7767e58a-cb16-45af-8ccf-7103681172c6" name="Script Assertion"><con:configuration><scriptText>def val = messageExchange.getResponseHeaders()["#status#"][0]
log.info(val)
assert val=="HTTP/1.1 200 OK"</scriptText></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="6ad4a06f-3d04-4834-82a7-3989963e920e" name="Match content of [messageResultField]"><con:configuration><path>$.AddNewEnrollmentResponse.enrollmentsField[0].messageResultField</path><content/><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="8771dc43-a066-4ffc-ae77-2a545420aef1" name="Match content of [messageErrorCodeField]"><con:configuration><path>$.AddNewEnrollmentResponse.enrollmentsField[0].messageErrorCodeField</path><content/><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer_EnrollID" id="650015ca-8c85-452b-ac09-61267c3a8b34"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>enrollmentIdField</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>EnrollStudent</con:sourceStep><con:sourcePath>$.AddNewEnrollmentResponse.enrollmentsField[0].enrollmentIdField</con:sourcePath><con:targetType>Response_EnrollID</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="delay" name="WaitforEnrollidinDB" id="ab3deb7c-0a4c-4ea6-a7df-659ef571ec1a"><con:settings/><con:config><delay>20000</delay></con:config></con:testStep><con:testStep type="datasource" name="DS_VerifyEnrollDetails" id="c87867f1-392c-45d8-aaf0-cbf88699b22f" disabled="true"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>Orion( Test )</Connection><query>Select adEnroll.SyStudentID as adEnroll_SyStudentID, adEnroll.adProgramVersionID as adEnroll_adProgramVersionID
From adEnroll
Where adEnroll.AdEnrollID = ${Properties#Response_EnrollID}</query><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:property>adEnroll_SyStudentID</con:property><con:property>adEnroll_adProgramVersionID</con:property><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="groovy" name="DB_GetEnrollDetails" id="aa9fd531-ca77-467b-a304-2dea9db05b8f"><con:settings/><con:config><script>import groovy.sql.Sql;
//Establish JDBC Connection to the DB
def conString = context.expand( '${#Project#ConString}' )
def  con = Sql.newInstance(conString, "com.microsoft.sqlserver.jdbc.SQLServerDriver");
//get the enrollid from response
def response_EnrollID = context.expand( '${Properties#Response_EnrollID}' )
log.info(response_EnrollID)
def res = con.rows("Select adEnroll.SyStudentID as adEnroll_SyStudentID, adEnroll.adProgramVersionID as adEnroll_adProgramVersionID From adEnroll Where adEnroll.AdEnrollID ="+response_EnrollID)
log.info(res[0][0])
log.info(res[0][1])
con.close()
testRunner.testCase.setPropertyValue( "adEnroll_SyStudentID" ,res[0][0].toString())
testRunner.testCase.setPropertyValue( "adEnroll_adProgramVersionID" ,res[0][1].toString())</script></con:config></con:testStep><con:testStep type="groovy" name="VerifyEnrollmentDB" id="4964526a-79ef-4f52-b1fe-93d9e7c144d5"><con:settings/><con:config><script>//get studentid from DB created by new enrollment
//def adEnroll_SyStudentID = context.expand( '${DS_VerifyEnrollDetails#adEnroll_SyStudentID}' )
def adEnroll_SyStudentID = context.expand( '${#TestCase#adEnroll_SyStudentID}' )
//get studentid which was used in request
//def s_SyStudentId = context.expand( '${DS_GetStudentId#S_SyStudentId}' )
def s_SyStudentId = context.expand( '${#TestCase#S_SyStudentId}' )
//get program version from DB created by new enrollment
//def adEnroll_adProgramVersionID = context.expand( '${DS_VerifyEnrollDetails#adEnroll_adProgramVersionID}' )
def adEnroll_adProgramVersionID = context.expand( '${#TestCase#adEnroll_adProgramVersionID}' )
//get programversion id used in the request
def prgVersionID = context.expand( '${#Project#AdProgramVerionID}' )
//compare both student ids anf programveriosn ids
assert adEnroll_SyStudentID == s_SyStudentId
assert prgVersionID.equals(adEnroll_adProgramVersionID)


</script></con:config></con:testStep><con:properties><con:property><con:name>Token</con:name><con:value>zcphuQUjf3zJyBcc1SsGghERLB0u</con:value></con:property><con:property><con:name>S_SyStudentId</con:name><con:value>161247</con:value></con:property><con:property><con:name>adEnroll_SyStudentID</con:name><con:value>161247</con:value></con:property><con:property><con:name>adEnroll_adProgramVersionID</con:name><con:value>452376</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>51eabddb-2c3c-4d6a-8f6f-16b296375c5d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>4d57dd55-7e70-42d7-bcbc-d418005cc76d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>a1e484c7-77c8-41e0-afcc-b50d10c3ffc3</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>f89c646f-8b64-4304-b856-28443b18ef7b</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>5fa59d80-4db7-4b31-b34b-9815167887b9</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>c87867f1-392c-45d8-aaf0-cbf88699b22f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ab3deb7c-0a4c-4ea6-a7df-659ef571ec1a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>27d83347-569e-44d1-b688-caa0530480fc</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>2aff6feb-bb62-4d07-ba53-09cf86707294</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9cf47190-c3fd-405e-9cc6-6d233e2c45ce</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bf8a4aef-7590-4d86-837b-64b8b8035597</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>650015ca-8c85-452b-ac09-61267c3a8b34</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>4964526a-79ef-4f52-b1fe-93d9e7c144d5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>9ef5ac9b-9084-4f2e-8804-525d379f69ab</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>aa9fd531-ca77-467b-a304-2dea9db05b8f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:properties/><con:reportParameters/></con:testSuite><con:requirements/><con:properties><con:property><con:name>ClientId</con:name></con:property><con:property><con:name>ClientSecret</con:name></con:property><con:property><con:name>AdstartDateId</con:name></con:property><con:property><con:name>AdProgramVerionID</con:name></con:property><con:property><con:name>DuplicateStudentID</con:name></con:property><con:property><con:name>ConString</con:name></con:property><con:property><con:name>TermId</con:name></con:property></con:properties><con:wssContainer/><con:databaseConnectionContainer><con:databaseConnection><con:name>Orion</con:name><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mssql-stg-ORION.charlie.kaplaninc.com\stgorion;databaseName=c2000;user=kcctech;password=PASS_VALUE</con:connectionString><con:password>24giveis24get</con:password></con:databaseConnection></con:databaseConnectionContainer><con:oAuth2ProfileContainer><con:oAuth2Profile><con:name>Test</con:name><con:type>OAuth 2.0</con:type><con:clientID>SRMIntegrationSalesforce_Dev2</con:clientID><con:clientSecret>Rg6UTOxz4bIn0gq1cljEFS7M7jOkvu5w</con:clientSecret><con:authorizationURI>https://dev.webapi.kaplan.edu/api/v1/auth/authorize</con:authorizationURI><con:accessTokenURI>https://dev.webapi.kaplan.edu/api/v1/auth/token</con:accessTokenURI><con:redirectURI>tst</con:redirectURI><con:accessTokenPosition>HEADER</con:accessTokenPosition><con:oAuth2Flow>AUTHORIZATION_CODE_GRANT</con:oAuth2Flow><con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod><con:scope>tset</con:scope><con:manualAccessTokenExpirationTimeUnit>SECONDS</con:manualAccessTokenExpirationTimeUnit></con:oAuth2Profile></con:oAuth2ProfileContainer><con:reporting><con:reportTemplates/><con:xmlTemplates/><con:parameters/></con:reporting><con:sensitiveInformation/><con:environment name="DEV" id="dc007ce9-c44c-4607-b507-50206d34a063"><con:service type="REST" name="http://dev.webapi.kaplan.edu"><con:endpoint domain="" incomingWss="" outgoingWss="" password="" username="" wssTimeToLive="" wssType="" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="" authProfile="No Authorization">https://dev.webapi.kaplan.edu</con:endpoint></con:service><con:service type="REST" name="https://test.webapi.kaplan.edu"><con:endpoint username="" password="" domain="" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="" authProfile="No Authorization"/></con:service><con:property><con:name>ClientId</con:name><con:value>SRMIntegrationSalesforce_Dev2</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>Rg6UTOxz4bIn0gq1cljEFS7M7jOkvu5w</con:value></con:property><con:property><con:name>AdstartDateId</con:name><con:value>628517</con:value></con:property><con:property><con:name>AdProgramVerionID</con:name><con:value>450667</con:value></con:property><con:property><con:name>DuplicateStudentID</con:name><con:value>100575</con:value></con:property><con:property><con:name>ConString</con:name><con:value>jdbc:sqlserver://mssql-dev-orion.charlie.kaplaninc.com\DEVORION;databaseName=c2000;user=kcctech;password=24giveis24get</con:value></con:property><con:property><con:name>TermId</con:name><con:value>505952</con:value></con:property><con:databaseConnectionContainer><con:databaseConnection><con:name>Orion</con:name><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mssql-dev-orion.charlie.kaplaninc.com\DEVORION;databaseName=c2000;user=kcctech;password=PASS_VALUE</con:connectionString><con:password>24giveis24get</con:password></con:databaseConnection></con:databaseConnectionContainer></con:environment><con:environment name="Test" id="82720e42-10e1-4d32-ad4f-7832739a15fc"><con:service type="REST" name="http://dev.webapi.kaplan.edu"><con:endpoint username="" password="" domain="" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="" authProfile="No Authorization">https://test.webapi.kaplan.edu</con:endpoint></con:service><con:service type="REST" name="https://test.webapi.kaplan.edu"><con:endpoint username="" password="" domain="" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="" authProfile="No Authorization"/></con:service><con:property><con:name>ClientId</con:name><con:value>SRMIntegrationSalesforce_Stage</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>2VFEYQ9VY3lqZEHggx5yU1urkkplLPvT</con:value></con:property><con:property><con:name>AdstartDateId</con:name><con:value>823575</con:value></con:property><con:property><con:name>AdProgramVerionID</con:name><con:value>452369</con:value></con:property><con:property><con:name>DuplicateStudentID</con:name><con:value>50159</con:value></con:property><con:property><con:name>environment</con:name><con:value/></con:property><con:property><con:name>ConString</con:name><con:value>jdbc:sqlserver://TWORNSQL01\TSTORION;databaseName=c2000;user=kcctech;password=24giveis24get</con:value></con:property><con:property><con:name>TermId</con:name><con:value>505952</con:value></con:property><con:databaseConnectionContainer><con:databaseConnection><con:name>Orion</con:name><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mssql-stg-ORION.charlie.kaplaninc.com\stgorion;databaseName=c2000;user=kcctech;password=PASS_VALUE</con:connectionString><con:password>24giveis24get</con:password></con:databaseConnection></con:databaseConnectionContainer></con:environment><con:environment name="Stage" id="82091e6c-3778-47a9-8e93-7bcd07107370"><con:service type="REST" name="http://dev.webapi.kaplan.edu"><con:endpoint domain="" incomingWss="" outgoingWss="" password="" username="" wssTimeToLive="" wssType="" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="" authProfile="No Authorization">https://stage.webapi.kaplan.edu</con:endpoint></con:service><con:service type="REST" name="https://test.webapi.kaplan.edu"><con:endpoint domain="" incomingWss="" outgoingWss="" password="" username="" wssTimeToLive="" wssType="" authProfile="No Authorization">https://test.webapi.kaplan.edu</con:endpoint></con:service><con:property><con:name>ClientId</con:name><con:value>SRMIntegrationSalesforce_Stage</con:value></con:property><con:property><con:name>ClientSecret</con:name><con:value>2VFEYQ9VY3lqZEHggx5yU1urkkplLPvT</con:value></con:property><con:property><con:name>AdstartDateId</con:name><con:value>823668</con:value></con:property><con:property><con:name>AdProgramVerionID</con:name><con:value>452376</con:value></con:property><con:property><con:name>DuplicateStudentID</con:name><con:value>54445</con:value></con:property><con:property><con:name>environment</con:name><con:value/></con:property><con:property><con:name>ConString</con:name><con:value>jdbc:sqlserver://SWORNSQLC01\STGORION;databaseName=c2000;user=kcctech;password=24giveis24get</con:value></con:property><con:property><con:name>TermId</con:name><con:value>505952</con:value></con:property><con:databaseConnectionContainer><con:databaseConnection><con:name>Orion</con:name><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mssql-stg-ORION.charlie.kaplaninc.com\stgorion;databaseName=c2000;user=kcctech;password=PASS_VALUE</con:connectionString><con:password>24giveis24get</con:password></con:databaseConnection></con:databaseConnectionContainer></con:environment><con:authRepository/><con:tags/></con:soapui-project>